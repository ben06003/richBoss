<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <title>YEN | 實驗模式</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3.0, user-scalable=1">

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/common/css/tailwind.min.css">
    <link rel="stylesheet" type="text/css" href="/common/css/page-common.css">
    <link rel="stylesheet" type="text/css" href="/common/css/line-arrow.css">
    <!-- JS -->
    <script type="text/javascript" src="/common/js/jquery-3.5.1.min.js"></script>
    <script type="text/javascript" src="/common/js/sweetalert2@10.js"></script>
    <script type="text/javascript" src="/common/js/localforage.min.js"></script>
    <script type="text/javascript" src="/common/js/SMethods.js"></script>
    <script type="text/javascript" src="/common/js/pages/Exp_VisionCommon.js"></script>
    <script type="text/javascript" src="/app/js/Exp_Experimental.js"></script>
    <style>
        option {
            text-indent: 5px;
        }

        .inputStyle {
            min-height: 36px;
        }
    </style>
    <!-- When no JavaScript -->
    <noscript>
        <div class="noscriptmsg">
            請開啟JavaScript瀏覽
        </div>
    </noscript>
</head>
<body class="HunInn flex flex-col flex-shrink-0 w-screen h-screen bg-gray-700">
<!-- 運作清單 -->
<div class="flex flex-row py-1 w-full items-center text-white text-base text-center bg-blue-600">
    <p class="flex-1">抵達時間(ms)</p>
    <p class="flex-1">凌鏡度(+32)</p>
    <p class="flex-1">停留時間(ms)</p>
    <p class="mr-1" style="min-width: 30px;">刪</p>
</div>
<div id="divDataList" class="flex flex-col w-full items-center text-lg text-center">
    <div id="divData" class="flex flex-row w-full py-1 items-center" style="display: none;">
        <label class="flex-1 px-1">
            <input id="inArrive" class="inputStyle px-2 py-1 w-full rounded bg-white" alt="Arrived" type="number"
                   maxlength="5"
                   oninput="maxLengthCheck(this)"
                   onkeyup="value=value.replace(/[^0-9]/g,'')">
        </label>
        <label class="flex-1 px-1">
            <select id="slDirection" class="inputStyle px-2 py-1 w-full h-full rounded bg-white">
                <option value="BI">BI</option>
                <option value="BO">BO</option>
            </select>
        </label>
        <label class="flex-1 px-1">
            <input id="inPrism" class="inputStyle px-2 py-1 w-full rounded bg-white" alt="Prism" type="number"
                   maxlength="3"
                   oninput="maxLengthCheck(this)">
        </label>
        <label class="flex-1 px-1">
            <input id="inStay" class="inputStyle px-2 py-1 w-full rounded bg-white" alt="Stay" type="number"
                   maxlength="5"
                   oninput="maxLengthCheck(this)"
                   onkeyup="value=value.replace(/[^0-9]/g,'')">
        </label>
        <img class="mr-1" alt="delete" src="/app/image/Page_Main/ic_close.png" style="max-width: 30px;max-height: 30px;"
             onclick="RemoveColumn(this.parentNode)">
    </div>
</div>
<!-- 新增欄位 -->
<div class="flex flex-col px-1 w-full items-center">
    <button class="my-2 w-full text-2xl text-white rounded-lg border-2 border-blue-500" onclick="AddColumn()">+</button>
</div>
<!-- 重複次數 -->
<div class="flex flex-row px-1 w-full items-center">
    <label class="text-xl text-white text-center" for="inRepeat" style="width: 50%">重複次數</label>
    <input id="inRepeat" class="inputStyle px-2 py-1 text-center rounded bg-white" alt="Repeat" type="number"
           style="max-width: 50%;"
           value="0"
           maxlength="5"
           oninput="maxLengthCheck(this)"
           onkeyup="value=value.replace(/[^0-9]/g,'')">
</div>
<!-- 眼睛圖 -->
<div class="flex flex-row w-full items-center justify-center">
    <div class="flex-1" style="position: relative;">
        <img class="imgEye px-1 my-2 w-full object-contain" alt="app.image" src="/common/image/ic_eye.png"
             style="-webkit-transform: scaleX(-1);transform: scaleX(-1);"/>
        <div id="divArrow_L" class="arrow flex flex-col items-center">
            <div class="point"></div>
            <div class="line"></div>
            <div class="center"></div>
        </div>
        <div class="flex flex-col items-center" style="position: absolute;bottom: 20%;left: calc(50% - 25px);">
            <p id="pCDegree_L" class="text-white text-lg text-center" style="min-width: 50px;">0°</p>
        </div>
    </div>
    <div class="flex-1" style="position: relative;">
        <img class="imgEye px-1 my-2 w-full object-contain" alt="app.image" src="/common/image/ic_eye.png"
        />
        <div id="divArrow_R" class="arrow flex flex-col items-center">
            <div class="point"></div>
            <div class="line"></div>
            <div class="center"></div>
        </div>
        <div class="flex flex-col items-center" style="position: absolute;bottom: 20%;left: calc(50% - 25px);">
            <p id="pCDegree_R" class="text-white text-lg text-center" style="min-width: 50px;">0°</p>
        </div>
    </div>
</div>
<!-- 開始實驗 -->
<div id="divNormal" class="flex flex-col w-full items-center">
    <button class="px-8 py-1 my-2 text-xl text-white bg-blue-600 rounded-lg" onclick="StartTest()">開始實驗</button>
</div>
<!-- 模式進度、取消 -->
<div id="divRun" class="flex flex-col w-full items-center" style="display: none;">
    <p id="pCMode" class="my-2 text-white text-3xl tracking-widest font-semibold"></p>
    <p id="pCType" class="my-1 text-gray-300 text-lg tracking-widest font-semibold"></p>
    <p class="my-2 text-white text-xl tracking-widest font-semibold">執行進度</p>
    <div class="my-2 w-full bg-gray-700 rounded-lg h-6" style="max-width: 300px;">
        <div id="divProgress"
             class="flex flex-row items-center justify-center bg-blue-600 h-6 rounded-lg text-white text-sm text-center"
             style="width: 45%;transition-duration: 200ms;">45%
        </div>
    </div>
    <div class="flex flex-row items-center justify-center w-full my-2 text-white text-lg tracking-widest font-semibold">
        <p class="mx-2">剩餘時間:</p>
        <p id="pRemainTime"></p>
    </div>
    <button class="px-8 py-1 my-2 text-xl text-white bg-red-600 rounded-lg" onclick="StopTrain()">立即停止</button>
</div>
</body>
</html>
